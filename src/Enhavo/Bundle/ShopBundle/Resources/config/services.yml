services:
    enhavo.shop.cart_item_resolver:
        class: Enhavo\Bundle\ShopBundle\Cart\ItemResolver
        arguments:
            - @doctrine.orm.entity_manager

    enhavo_shop_product:
        class: Enhavo\Bundle\ShopBundle\Form\Type\ProductType
        arguments:
            - %enhavo_shop.model.product.class%
        tags:
            - { name: form.type }

    enhavo_shop_product.extend_listener.cart_item:
        class: Enhavo\Bundle\AppBundle\EventListener\DoctrineExtendListener
        arguments:
            - Sylius\Component\Cart\Model\CartItem
            - %sylius.model.cart_item.class%
            - true
        tags:
            - { name: doctrine.event_subscriber, connection: default }