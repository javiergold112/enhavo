services:
    enhavo_shop.listener.doctrine_sylius_meta:
        class: Enhavo\Bundle\ShopBundle\EventListener\DoctrineSyliusMetaListener
        tags:
            - { name: doctrine.event_subscriber, connection: default }

    enhavo_shop.table.shop_address_widget:
        class: Enhavo\Bundle\ShopBundle\Table\Widget\AddressWidget
        calls:
            - [setContainer, ['@service_container']]
        tags:
            - { name: enhavo.table_widget }

    enhavo_shop.locale.country_resolver:
        class: Enhavo\Bundle\ShopBundle\Locale\CountryResolver
        arguments:
            - '@sylius.repository.country'

    enhavo_shop.menu_builder.product:
        class: Enhavo\Bundle\ShopBundle\Menu\ProductMenuBuilder
        calls:
          - [ 'setContainer', ['@service_container']]
        tags:
            - { name: enhavo.menu }

    enhavo_shop.menu_builder.order:
        class: Enhavo\Bundle\ShopBundle\Menu\OrderMenuBuilder
        calls:
          - [ 'setContainer', ['@service_container']]
        tags:
            - { name: enhavo.menu }

    enhavo.token_generator:
        class: Sylius\Component\User\Security\Generator\TokenGenerator