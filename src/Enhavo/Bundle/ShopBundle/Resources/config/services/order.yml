parameters:

services:
    enhavo.order_processing.shipment_processor:
        class: Enhavo\Bundle\ShopBundle\OrderProcessing\OrderShipmentProcessor
        arguments:
            - @sylius.resolver.default_shipping_method
            - @sylius.factory.shipment
            - @sylius.shipping_calculator
            - @sylius.factory.adjustment

    enhavo.shop.cart_item_resolver:
        class: Enhavo\Bundle\ShopBundle\Cart\ItemResolver
        arguments:
            - @doctrine.orm.entity_manager
            - @sylius.order_item_quantity_modifier

    enhavo_shop.calculator.order_composition_calculator:
        class: Enhavo\Bundle\ShopBundle\Calculator\OrderCompositionCalculator

    enhavo_shop.listener.cart_subscriber:
        class: Enhavo\Bundle\ShopBundle\EventListener\CartSubscriber
        arguments:
            - @enhavo.order_processing.shipment_processor
        tags:
            - { name: kernel.event_subscriber }