{% form_theme form with form_themes() %}
{% block form %}
    {{ form_widget(form.position) }}
    {{ form_widget(form.name) }}
    {% if form.template is defined %}
        {{ form_row(form.template) }}
    {% endif %}

    {% if form.block.children|length > 0 %}
        {% for child in form.block.children %}
            {{ form_row(child) }}
        {% endfor %}
    {% else %}
        {{ form_row(form.block) }}
    {% endif %}

    {% if form.offsetExists('children') %}
        {{ form_row(form.offsetGet('children')) }}
    {% endif %}
{% endblock %}