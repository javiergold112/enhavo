{{ app }}_{{ resource }}_index:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/index
    methods: [GET]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:indexAction
        _sylius:
            template: EnhavoAppBundle:Resource:index.html.twig
        _viewer:

{{ app }}_{{ resource }}_create:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/create
    methods: [GET,POST]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:createAction
        _sylius:
            template: EnhavoAppBundle:Resource:create.html.twig
        _viewer:
{% if not sorting is null %}
            sorting:
                sortable: true
                property: {{ sorting }}
                initial: max
{% endif %}

{{ app }}_{{ resource }}_update:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/update/{id}
    methods: [GET,POST]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:updateAction
        _sylius:
            template: EnhavoAppBundle:Resource:update.html.twig
        _viewer:

{{ app }}_{{ resource }}_table:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/table/{page}
    methods: [GET]
    defaults:
        page: 1
        _controller: {{ app }}.controller.{{ resource }}:tableAction
        _sylius:
            template: EnhavoAppBundle:Resource:table.html.twig
{% if not sorting is null %}
            sorting:
                {{ sorting }}: desc
{% endif %}
        _viewer:
{% if not sorting is null %}
            table:
                sorting:
                    sortable: true
                    move_up_route: {{ app }}_{{ resource }}_move_up
                    move_down_route: {{ app }}_{{ resource }}_move_down
{% endif %}

{{ app }}_{{ resource }}_delete:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/delete/{id}
    methods: [DELETE]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:deleteAction

{{ app }}_{{ resource }}_preview:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/preview
    methods: [POST]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:previewAction
{% if not sorting is null %}

{{ app }}_{{ resource }}_move_up:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/move-up
    methods: [POST]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:moveUpAction
        _sylius:
            sortable_position: {{ sorting }}
        _viewer:
            sorting: desc

{{ app }}_{{ resource }}_move_down:
    options:
        expose: true
    path: /{{ app_url }}/{{ resource_url }}/move-down
    methods: [POST]
    defaults:
        _controller: {{ app }}.controller.{{ resource }}:moveDownAction
        _sylius:
            sortable_position: {{ sorting }}
        _viewer:
            sorting: desc
{% endif %}
