parameters:
    enhavo_grid.form.content.class: Enhavo\Bundle\GridBundle\Form\Type\ContentType
    enhavo_grid.form.item.class: Enhavo\Bundle\GridBundle\Form\Type\ItemType
    enhavo_grid.twig.content_render.class: Enhavo\Bundle\GridBundle\Twig\ContentRender
    enhavo_grid.doctrine_subscriber.class: Enhavo\Bundle\GridBundle\EventListener\DoctrineSubscriber
    enhavo_grid.item_type_resolver.class: Enhavo\Bundle\GridBundle\Item\ItemTypeResolver

services:
    enhavo_grid:
        class: %enhavo_grid.form.content.class%
        arguments:
            - @doctrine.orm.entity_manager
            - @enhavo_grid.item_type_resolver
        tags:
            - { name: form.type, alias: enhavo_grid }

    enhavo_grid_item:
        class: %enhavo_grid.form.item.class%
        arguments:
            - @enhavo_grid.item_type_resolver
        tags:
            - { name: form.type, alias: enhavo_grid_item }

    enhavo_grid.twig.content_render:
        class: %enhavo_grid.twig.content_render.class%
        arguments:
            - @router
            - @service_container
        tags:
            - { name: twig.extension }

    enhavo_grid.doctrine_subscriber:
        class: %enhavo_grid.doctrine_subscriber.class%
        arguments:
            - @enhavo_grid.item_type_resolver
        tags:
            - { name: doctrine.event_subscriber, connection: default }

    enhavo_grid.item_type_resolver:
        class: %enhavo_grid.item_type_resolver.class%
        arguments:
            - %enhavo_grid.items%
            - %enhavo_grid.render.sets%
            - @service_container