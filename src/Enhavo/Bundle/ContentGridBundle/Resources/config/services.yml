parameters:
    enhavo_content.form.content.class: enhavo\ContentBundle\Form\Type\ContentType
    enhavo_content.form.item.class: enhavo\ContentBundle\Form\Type\ItemType
    enhavo_content.twig.content_render.class: enhavo\ContentBundle\Twig\ContentRender
    enhavo_content.doctrine_subscriber.class: enhavo\ContentBundle\EventListener\DoctrineSubscriber
    enhavo_content.item_type_resolver.class: enhavo\ContentBundle\Item\ItemTypeResolver

services:
    enhavo_content:
        class: %enhavo_content.form.content.class%
        arguments:
            - @doctrine.orm.entity_manager
            - @enhavo_content.item_type_resolver
        tags:
            - { name: form.type, alias: enhavo_content }

    enhavo_content_item:
        class: %enhavo_content.form.item.class%
        arguments:
            - @enhavo_content.item_type_resolver
        tags:
            - { name: form.type, alias: enhavo_content_item }

    enhavo_content.twig.content_render:
        class: %enhavo_content.twig.content_render.class%
        arguments:
            - @router
            - @service_container
        tags:
            - { name: twig.extension }

    enhavo_content.doctrine_subscriber:
        class: %enhavo_content.doctrine_subscriber.class%
        arguments:
            - @enhavo_content.item_type_resolver
        tags:
            - { name: doctrine.event_subscriber, connection: default }

    enhavo_content.item_type_resolver:
        class: %enhavo_content.item_type_resolver.class%
        arguments:
            - %enhavo_content.items%
            - %enhavo_content.render.sets%
            - @service_container