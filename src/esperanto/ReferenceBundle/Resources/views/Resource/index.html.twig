{% extends '::admin.html.twig' %}

{% block javascripts %}
    <script type="text/javascript">
        $(function() {
            admin.initPagination('{{ view.getParameter('table_route') }}');
            admin.initTable();
            admin.initTopButton('[data-action-row] .btn.create', {}, '{{ view.getParameter('create_route') }}');
            admin.initTopButton('[data-action-row] .btn.category-sector', {}, '{{ view.getParameter('category_route') }}', {name : 'reference-sector'});
            admin.initTopButton('[data-action-row] .btn.category-style', {}, '{{ view.getParameter('category_route') }}', {name : 'reference-style'});
            admin.initAfterSaveHandler();
        });
    </script>
{% endblock %}

{% block content %}
    <div class="row action-row" data-action-row>
        <div class="col-md-3">
            <button class="btn create col-md-3"><i class="fa fa-plus-circle"></i> {{ view.getParameter('add_button_text')|trans }}</button>
        </div>
        <div class="col-md-3">
            <button class="btn category-sector col-md-3"><i class="fa fa-cog"></i> {{ 'button.manage_category_sector'|trans }}</button>
        </div>
        <div class="col-md-3">
            <button class="btn category-style col-md-3"><i class="fa fa-cog"></i> {{ 'button.manage_category_style'|trans }}</button>
        </div>
    </div>

    {{ pagination_render(data) }}
    <div class="table-container" data-edit-route="{{ view.getParameter('edit_route') }}" data-refresh-route="{{ view.getParameter('table_route') }}">
        {% include view.getParameter('table_template') %}
    </div>
    {{ pagination_render(data) }}
{% endblock %}
